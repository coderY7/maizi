{"version":3,"sources":[null,"webpack:////Users/coderyh/Downloads/codeY/mzscan/maizi/pages/menu/components/product-modal/product-modal.vue?f9b9","webpack:////Users/coderyh/Downloads/codeY/mzscan/maizi/pages/menu/components/product-modal/product-modal.vue?987a","webpack:////Users/coderyh/Downloads/codeY/mzscan/maizi/pages/menu/components/product-modal/product-modal.vue?670e","uni-app:///pages/menu/components/product-modal/product-modal.vue","webpack:////Users/coderyh/Downloads/codeY/mzscan/maizi/pages/menu/components/product-modal/product-modal.vue?8424","webpack:////Users/coderyh/Downloads/codeY/mzscan/maizi/pages/menu/components/product-modal/product-modal.vue?1949"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACa;;;AAGzE;AACyN;AACzN,gBAAgB,iNAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAw3B,CAAgB,2yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkO54B;AACA;;AAEA;AACA,kBADA;AAEA;AACA;AACA,OAJA,EAFA;;AAQA;AACA;AACA,kBADA;AAEA,wBAFA,EATA;;AAaA;AACA,kBADA;AAEA,wBAFA,EAbA;;AAiBA;AACA;AACA,kBADA;AAEA,wBAFA,EAlBA;;AAsBA;AACA;AACA,kBADA;AAEA,wBAFA,EAvBA;;AA2BA;AACA;AACA,kBADA;AAEA,wBAFA,EA5BA;;AAgCA;AACA;AACA,kBADA;AAEA,wBAFA,EAjCA,EADA;;;;AAwCA;AACA,oBADA,EAxCA;;AA2CA;AACA,WADA,mBACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAHA,EAGA,EAHA;AAIA;AACA;AACA;;;AAGA;AACA;AACA,KAxBA,EA3CA;;;AAsEA,MAtEA,kBAsEA;AACA;AACA,gBADA;AAEA,0BAFA;AAGA,qBAHA;AAIA,eAJA;AAKA,mBALA;AAMA,qBANA;AAOA,qCAPA;AAQA,qBARA;AASA,gBATA;AAUA,iBAVA,EAUA;AACA,qBAXA;AAYA,uBAZA;AAaA,kBAbA;AAcA,gBAdA;;AAgBA,GAvFA;AAwFA,SAxFA,qBAwFA;AACA;AACA,GA1FA;AA2FA,QA3FA,oBA2FA;AACA;AACA;AACA,GA9FA;AA+FA;AACA,kBADA,0BACA,KADA,EACA,GADA,EACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KAdA;AAeA,QAfA,gBAeA,KAfA,EAeA,GAfA,EAeA;AACA;AACA;AACA;AACA;AACA,KApBA;AAqBA,UArBA,kBAqBA,KArBA,EAqBA,GArBA,EAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA7BA;;AA+BA,cA/BA,wBA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KA3CA;;AA6CA,cA7CA,wBA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,KA3DA;AA4DA,cA5DA,wBA4DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,KA3EA;AA4EA,cA5EA,wBA4EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,KA3FA;AA4FA,cA5FA,wBA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,KA1GA;AA2GA,cA3GA,wBA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA,KAzHA;;AA2HA;AACA,cA5HA,wBA4HA;AACA;AACA;AACA,KA/HA;AAgIA;AACA,cAjIA,wBAiIA;AACA;AACA,KAnIA;AAoIA;AACA,iBArIA,2BAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA;AAMA,OAPA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA,KArJA;;AAuJA,OAvJA,iBAuJA;AACA;AACA;;AAEA,KA3JA;AA4JA,SA5JA,mBA4JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnKA;AAoKA;AACA,qBArKA,+BAqKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OANA;AAOA;AACA,KAhLA;AAiLA;AACA,SAlLA,mBAkLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA,OAPA;AAQA;AACA;AACA;AACA,KAhMA;AAiMA;AACA,aAlMA,uBAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA,2CAFA;AAGA,uCAHA;AAIA,2CAJA;AAKA,2CALA;AAMA,iCANA;AAOA,uBAPA;AAQA,qCARA;;AAUA;AACA;AACA;AACA;AACA;AACA;AAvBA,WAwBA;AACA;AACA;AACA;AACA,wCADA;AAEA,uBAFA;AAGA,yCAHA;AAIA,0CAJA;AAKA,6CALA;AAMA,mCANA;AAOA,yBAPA;AAQA,uCARA;;AAUA;AACA;AACA;AACA;AACA;AACA,KA7OA,EA/FA,E;;;;;;;;;;;;AClOA;AAAA;AAAA;AAAA;AAAuvC,CAAgB,wmCAAG,EAAC,C;;;;;;;;;;;ACA3wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/menu/components/product-modal/product-modal.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./product-modal.vue?vue&type=template&id=7287aa46&\"\nvar renderjs\nimport script from \"./product-modal.vue?vue&type=script&lang=js&\"\nexport * from \"./product-modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./product-modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/menu/components/product-modal/product-modal.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product-modal.vue?vue&type=template&id=7287aa46&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product-modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product-modal.vue?vue&type=script&lang=js&\"","<template >\n    <view>\n<!--      <view class=\"mask-bg\" >-->\n        <!-- #ifdef H5 -->\n\n        <!-- #endif -->\n<!--        <view class=\"main-area\" >-->\n          <view class=\"modal-area\" @tap.stop>\n            <image src=\"/static/images/share.png\" class=\"handle-btn\" style=\"right: 86rpx;\"  @tap=\"$emit('cancel')\"></image>\n            <image src=\"/static/images/close.png\" class=\"handle-btn\" style=\"right: 20rpx;\" @tap=\"closeModal\"></image>\n            <view class=\"good-image-box\"><image :src=\"productData ? imgurl+productData.big_img_path: '/static/images/default.png'\" mode=\"widthFix\"></image></view>\n            <scroll-view scroll-y=\"true\">\n              <view class=\"scroll-inner_box\">\n                <text class=\"good-name\">{{ productData.spmc}}</text>\n                <view style=\"font-size: 28rpx; color: #555;margin: 10rpx 0;\">产品描述</view>\n                <view>{{productData.description}}</view>\n\n                <view v-if=\"MultiSelectindex!=-1\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[0].groupname }}</view>\n                  <view class=\"list\" v-for=\"(item,key) in productData.dishesextlist[0].extitems\" :key=\"key\">\n                    <checkbox-group @change=\"checkboxChange(item,key)\">\n                      <view style=\"display: flex;justify-content: space-between;align-items: center;\">\n                        <view class=\"list-group\">\n                          <label class=\"radio\">\n                            <checkbox :checked=\"item.isDefault\"/>\n                          </label> {{item.ext_name}}：<text>￥ {{item.ext_price}}</text>\n                        </view>\n                        <view class=\"list-list\" v-if=\"item.isDefault\">\n                          <view class=\"Button\" @click=\"plus(item,key)\">+</view>\n                          <view class=\"number\">{{item.ext_quantity}}</view>\n                          <view class=\"Button\" @click=\"reduce(item,key)\">-</view>\n                        </view>\n                      </view>\n                    </checkbox-group>\n                  </view>\n                </view>\n\n                <view v-else>\n                  <view class=\"status-item\">\n                    <view class=\"status-title\">{{ productData.dishesextlist[0].groupname }}</view>\n                    <view class=\"status-tags\">\n                      <view v-for=\"(item1, index1) in productData.dishesextlist[0].extitems\" :key=\"item1.ext_name + index1\">\n                        <view\n                            class=\"tags-item2\"\n                            :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                            @tap=\"chooseTag0(item1, index1)\"\n                        >\n                          {{ item1.ext_name }}\n                          <text\n                              class=\"tags-pri\"\n                              :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                              v-if=\"item1.ext_price > 0\"\n                              :class=\"{ 'active-text': item1.isDefault }\"\n                          >\n                            ￥{{item1.ext_price}}\n                          </text>\n                        </view>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n\n\n                <view class=\"status-item\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[1].groupname }}</view>\n                  <view class=\"status-tags\">\n                    <view v-for=\"(item1, index1) in productData.dishesextlist[1].extitems\" :key=\"item1.ext_name + index1\">\n                      <view\n                          class=\"tags-item2\"\n                          :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                          @tap=\"chooseTag1(item1, index1)\"\n                      >\n                        {{ item1.ext_name }}\n                        <text\n                            class=\"tags-pri\"\n                            :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                            v-if=\"item1.ext_price > 0\"\n                            :class=\"{ 'active-text': item1.isDefault }\"\n                        >\n                          ￥{{item1.ext_price}}\n                        </text>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n\n                <view class=\"status-item\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[2].groupname }}</view>\n                  <view class=\"status-tags\">\n                    <view v-for=\"(item1, index1) in productData.dishesextlist[2].extitems\" :key=\"item1.ext_name + index1\">\n                      <view\n                          class=\"tags-item2\"\n                          :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                          @tap=\"chooseTag2(item1, index1)\"\n                      >\n                        {{ item1.ext_name }}\n                        <text\n                            class=\"tags-pri\"\n                            :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                            v-if=\"item1.ext_price > 0\"\n                            :class=\"{ 'active-text': item1.isDefault }\"\n                        >\n                          ￥{{item1.ext_price}}\n                        </text>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n\n                <view class=\"status-item\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[3].groupname }}</view>\n                  <view class=\"status-tags\">\n                    <view v-for=\"(item1, index1) in productData.dishesextlist[3].extitems\" :key=\"item1.ext_name + index1\">\n                      <view\n                          class=\"tags-item2\"\n                          :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                          @tap=\"chooseTag3(item1, index1)\"\n                      >\n                        {{ item1.ext_name }}\n                        <text\n                            class=\"tags-pri\"\n                            :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                            v-if=\"item1.ext_price > 0\"\n                            :class=\"{ 'active-text': item1.isDefault }\"\n                        >\n                          ￥{{item1.ext_price}}\n                        </text>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n\n                <view class=\"status-item\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[4].groupname }}</view>\n                  <view class=\"status-tags\">\n                    <view v-for=\"(item1, index1) in productData.dishesextlist[4].extitems\" :key=\"item1.ext_name + index1\">\n                      <view\n                          class=\"tags-item2\"\n                          :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                          @tap=\"chooseTag4(item1, index1)\"\n                      >\n                        {{ item1.ext_name }}\n                        <text\n                            class=\"tags-pri\"\n                            :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                            v-if=\"item1.ext_price > 0\"\n                            :class=\"{ 'active-text': item1.isDefault }\"\n                        >\n                          ￥{{item1.ext_price}}\n                        </text>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n                <view class=\"status-item\">\n                  <view class=\"status-title\">{{ productData.dishesextlist[5].groupname }}</view>\n                  <view class=\"status-tags\">\n                    <view v-for=\"(item1, index1) in productData.dishesextlist[5].extitems\" :key=\"item1.ext_name + index1\">\n                      <view\n                          class=\"tags-item2\"\n                          :style=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: item1.isDefault ? activeTextColor : normalTextColor,\n\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: item1.isDefault ? activeBgColor : normalBgColor\n\t\t\t\t\t\t\t\t\t\t\t}\"\n                          @tap=\"chooseTag5(item1, index1)\"\n                      >\n                        {{ item1.ext_name }}\n                        <text\n                            class=\"tags-pri\"\n                            :style=\"{ color: item1.isDefault ? activeTextColor : activeBgColor }\"\n                            v-if=\"item1.ext_price > 0\"\n                            :class=\"{ 'active-text': item1.isDefault }\"\n                        >\n                          ￥{{item1.ext_price}}\n                        </text>\n                      </view>\n                    </view>\n                  </view>\n                </view>\n\n              </view>\n            </scroll-view>\n\n            <view class=\"bottom-btn-box\">\n              <view class=\"status-box\">\n                <view class=\"left-status\">\n                  <text class=\"pri-text\" :style=\"{ color: activeBgColor }\">￥{{ productData.shownPrice?productData.shownPrice:productData.nsjg }}</text>\n                  <text class=\"status-text\">{{ choosedText }}</text>\n                </view>\n                <actions :number=\"productData.number\" @add=\"add\" @minus=\"minus\"></actions>\n              </view>\n              <view class=\"btn-box\">\n                <u-button type=\"warning\" :bgColor=\"activeBgColor\" :textColor=\"activeTextColor\" btnWidth=\"600rpx\" @click=\"addToCart\">加入购物袋</u-button>\n              </view>\n            </view>\n          </view>\n        </view>\n        <view class=\"fake-area2\"></view>\n<!--      </view>-->\n<!--    </view>-->\n\n\n</template>\n\n<script>\nimport Actions from '../actions/actions.vue'\nexport default {\n  props: {\n\n    product: {\n      type: Object,\n      default: () => {\n        return {};\n      }\n    },\n    //底色\n    activeBgColor: {\n    \ttype: String,\n    \tdefault: '#dba871'\n    },\n    normalBgColor: {\n    \ttype: String,\n    \tdefault: '#efefef'\n    },\n    // 普通文字色\n    normalTextColor: {\n    \ttype: String,\n    \tdefault: '#333333'\n    },\n    // 选中文字色\n    activeTextColor: {\n    \ttype: String,\n    \tdefault: '#ffffff'\n    },\n    // 普通星星色\n    normalStarColor: {\n    \ttype: String,\n    \tdefault: '#dba871'\n    },\n    // 选中星星色\n    activeStarColor: {\n    \ttype: String,\n    \tdefault: '#fdf292'\n    }\n  },\n\n  components: {\n    Actions\n  },\n  watch: {\n    product(val) {\n      this.productData = JSON.parse(JSON.stringify(val));\n      console.log(this.productData);\n      this.MultiSelectindex=this.productData.dishesextlist.map(item=>item.groupname).indexOf('加料')\n      console.log(this.MultiSelectindex);\n      if(this.MultiSelectindex  ==-1){\n        console.log('-111')\n      }else {\n        this.MultiSelect=this.productData.dishesextlist[this.productData.dishesextlist.map(item=>item.groupname).indexOf('加料')]\n        this.productData.dishesextlist.splice(0,0,this.MultiSelect)\n\n        var hash = {};\n        let arr = this.productData.dishesextlist.reduce(function(item, next) {\n          hash[next.groupname] ? '' : hash[next.groupname] = true && item.push(next);\n          return item\n        }, [])\n        console.log(arr);\n        this.productData.dishesextlist=arr\n      }\n\n\n      this.$set(this.productData, 'number', 1);\n      console.log(this.productData.dishesextlist)\n    }\n  },\n\n  data() {\n    return {\n      show:true,\n      MultiSelectindex:'',\n      MultiSelect:{},\n      number: 1,\n      shownPrice: 0,\n      choosedText: '',\n      imgurl:\"http://api.mzsale.cn/\",\n      productData: {},\n      zxprice:0,\n      extlist:[],//附加属性\next_zxprice:'',\n      ext_quantity:'1',\n      flownum:'0',\n      value:'1'\n    };\n  },\n  updated() {\n    this.updateChoosedText();\n  },\n  onShow(){\n    let data=this.productData.dishesextlist[1].extitems\n    console.log('data',data)\n  },\n  methods: {\n    checkboxChange(value,key){\n      var value=this.productData.dishesextlist[0].extitems[key]\n      console.log(value,key)\n      value.ext_quantity=1\n      if(value.isDefault==undefined){\n        value.isDefault=true\n        value.ext_zxprice=value.ext_quantity * value.ext_price\n        this.pitch()\n      }else if(value.isDefault){\n        value.isDefault=undefined\n        console.log(value)\n        this.pitch()\n      }\n    },\n    plus(value,key){\n      var value=this.productData.dishesextlist[0].extitems[key]\n      value.ext_quantity=Number(value.ext_quantity)+1\n      value.ext_zxprice=value.ext_price * value.ext_quantity;\n      this.pitch()\n    },\n    reduce(value,key){\n      var value=this.productData.dishesextlist[0].extitems[key]\n      if(value.ext_quantity<=1){\n        return value.ext_quantity=1\n      }\n      value.ext_quantity=Number(value.ext_quantity)-1\n      value.ext_zxprice=value.ext_price * value.ext_quantity;\n      this.pitch()\n    },\n\n    chooseTag0(rowIndex=0, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', 'true');\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n      unity.ext_zxprice=unity.ext_price * 1\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      this.pitch()\n    },\n\n    chooseTag1(rowIndex=1, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', 'true');\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n      unity.ext_zxprice=unity.ext_price * 1\n      if(rowIndex!=0){\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      }\n      this.pitch()\n    },\n    chooseTag2(rowIndex=2, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', true);\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n\n      unity.ext_zxprice=unity.ext_price * 1\n      if(rowIndex!=0){\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      }\n      this.pitch()\n    },\n    chooseTag3(rowIndex=3, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', true);\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n\n      unity.ext_zxprice=unity.ext_price * 1\n      if(rowIndex!=0){\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      }\n      this.pitch()\n    },\n    chooseTag4(rowIndex=4, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', true);\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n      unity.ext_zxprice=unity.ext_price * 1\n      if(rowIndex!=0){\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      }\n      this.pitch()\n    },\n    chooseTag5(rowIndex=5, itemIndex) {\n      var unity=this.productData.dishesextlist[rowIndex].extitems[itemIndex]\n      this.$set(unity, 'isDefault', true);\n      this.$set(unity, 'ext_zxprice', '0');\n      unity.ext_quantity=1\n      unity.ext_zxprice=unity.ext_price * 1\n      if(rowIndex!=0){\n        console.log(rowIndex,itemIndex)\n        this.productData.dishesextlist[rowIndex].extitems.map(item => {\n          item.isDefault = false;\n        });\n        this.$set(unity, 'isDefault', true);\n      }\n      this.pitch()\n    },\n\n    // 关闭modal\n    closeModal() {\n      this.$emit('cancel');\n      console.log('12321')\n    },\n    //分享\n    shareGoods() {\n      this.$emit('share', {});\n    },\n    // 计算总价（商品+加料）\n    calcOverprice() {\n      let pri =0;\n      this.productData.dishesextlist.forEach(item => {\n        item.extitems.forEach(item1 => {\n          if (item1.isDefault) {\n            // console.log('单个属性价格',item1.ext_price * item1.ext_quantity)\n            pri += parseInt(item1.ext_price * item1.ext_quantity);\n          }\n        });\n      });\n      console.log('属性总价:',pri)\n       this.productData.price=this.productData.nsjg\n      this.productData.zxprice=this.productData.nsjg+ pri\n      this.productData.shownPrice=this.productData.number * this.productData.price+pri;\n      console.log('商品总价格',this.productData.shownPrice);\n      this.updateChoosedText();\n    },\n\n    add() {\n      this.productData.number += 1\n       this.calcOverprice();\n\n    },\n    minus() {\n      if(this.productData.number == 1) {\n        return\n      }\n      this.productData.number -= 1\n      // this.calcOverprice()\n      this.pitch()\n    },\n    //更新\n    updateChoosedText() {\n      let tempArr = [];\n\n      this.productData.dishesextlist.forEach(item => {\n        item.extitems.forEach(item1 => {\n          if (item1.isDefault) {\n              tempArr.push(item1.ext_name);\n          }\n        });\n      });\n      this.choosedText = tempArr.join(',');\n    },\n   //选中\n    pitch(){\n      let pitch=[];\n      console.log(this.productData.dishesextlist)\n      this.productData.dishesextlist.forEach(item => {\n        console.log(item)\n        item.extitems.forEach(item1 => {\n          if (item1.isDefault) {\n            pitch.push(item1);\n          }\n        });\n      });\n      console.log(pitch)\n      this.productData.extlist=pitch\n      this.calcOverprice();\n    },\n    // 加入购物车\n    addToCart() {\n      if(this.productData.extlist){\n        // this.productData.extlist.map(item => {\n        //   if (item.isDefault) {\n        //     item.isDefault=undefined;\n        //     item.ext_desc=undefined;\n        //   }\n        // });\n        this.productData.choosedText=this.choosedText\n        let goodslist={\n          price: this.productData.nsjg,\n          extlist:this.productData.extlist,\n          spsmm:this.productData.spsmm,\n          zxprice:this.productData.zxprice,\n          quantity:this.productData.number,\n          flownum: this.flownum++,\n          discount: '0',\n          spbm:this.productData.spbm,\n        }\n        this.productData.goodslist=goodslist;\n        const product = {...this.productData}\n        this.$emit('add-to-cart', product)\n        console.log(product)\n      }\n      //未选择规格\n      else {\n        this.productData.choosedText=this.choosedText\n        console.log(this.productData)\n        let goodslist={\n          price: this.productData.nsjg,\n          extlist:[],\n          spsmm:this.productData.spsmm,\n          zxprice:this.productData.nsjg,\n          quantity:this.productData.number,\n          flownum: this.flownum++,\n          discount: '0',\n          spbm:this.productData.spbm,\n        }\n        this.productData.goodslist=goodslist;\n        const product = {...this.productData}\n        this.$emit('add-to-cart', product)\n        console.log(product)\n      }\n    }\n  }\n};\n</script>\n\n<style>\n.mask-bg {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  z-index: -1;\n  transition: all 0.2s linear;\n}\n\n.modal-show {\n  visibility: visible;\n  transform: scale(1);\n}\n\n.bg-show {\n  visibility: visible;\n}\n\n.bg-hidden {\n  background-color: rgba(255, 255, 255, 0);\n  visibility: hidden;\n}\n\n.modal-hidden {\n  visibility: hidden;\n  transform: scale(0);\n}\n\n.fake-area {\n  width: 100%;\n  height: 128rpx;\n}\n\n.fake-area2 {\n  height: 98rpx;\n  width: 100%;\n}\n\n.main-area {\n  width: 100%;\n  flex-grow: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s linear;\n}\n\n.modal-area {\n  width: 88%;\n  background-color: #ffffff;\n  border-radius: 8rpx;\n  overflow: hidden;\n  margin: 0 auto;\n  margin-top:60rpx;\n  position: relative;\n}\n\n.handle-btn {\n  width: 42rpx;\n  height: 42rpx;\n  display: block;\n  position: absolute;\n  top: 20rpx;\n  z-index: 99;\n}\n\n.bottom-btn-box {\n  width: 100%;\n}\n\n.btn-box {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20rpx 0;\n  box-sizing: border-box;\n}\n\n.status-box {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx 30rpx 0 30rpx;\n  box-sizing: border-box;\n}\n\n.left-status {\n  display: flex;\n  flex-direction: column;\n}\n\n.pri-text {\n  font-size: 34rpx;\n}\n\n.status-text {\n  color: #9a9a9a;\n  font-size: 30rpx;\n  overflow: hidden;\n  word-break: break-all;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n\n.count-box {\n  display: flex;\n  align-items: center;\n}\n\n.count-box image {\n  width: 56rpx;\n  height: 56rpx;\n  display: block;\n}\n\n.count-box text {\n  display: inline-flex;\n  width: 60rpx;\n  height: 48rpx;\n  align-items: center;\n  justify-content: center;\n  font-size: 34rpx;\n}\n\n.good-image-box image {\n  width: 100%;\n  max-height: 450rpx;\n  display: block;\n}\n\n.scroll-inner_box {\n  padding: 10rpx 30rpx;\n  box-sizing: border-box;\n  /* #ifndef H5 */\n  max-height: 450rpx;\n\n}\n\n.good-name {\n  font-size: 36rpx;\n}\n\n.tag-item {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  line-height: 24rpx;\n  color: #909090;\n  background-color: #dadada;\n  border-radius: 4rpx;\n  padding: 10rpx 20rpx;\n  transform: scale(0.8);\n  transform-origin: left;\n  margin-right: -20rpx;\n}\n\n.description-text {\n  display: inline-block;\n  color: #555555;\n  font-size: 28rpx;\n  line-height: 32rpx;\n}\n\n.status-item {\n  display: flex;\n  flex-direction: column;\n}\n\n.status-title {\n  font-size: 28rpx;\n  color: #555555;\n  padding: 10rpx 0;\n  box-sizing: border-box;\n}\n\n.status-tags {\n  display: flex;\n  flex-wrap: wrap;\n  font-size: 24rpx;\n}\n\n.tags-item2 {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 24rpx;\n  line-height: 24rpx;\n  color: #333;\n  /* background-color: #efefef; */\n  border-radius: 4rpx;\n  padding: 10rpx 24rpx;\n  margin-right: 16rpx;\n  margin-bottom: 16rpx;\n  position: relative;\n}\n\n.tags-pri {\n  color: #dca371;\n  padding-left: 8rpx;\n  transform: scale(0.8);\n}\n\n.recommend {\n  position: absolute;\n  top: 4rpx;\n  right: 4rpx;\n  width: 24rpx;\n  height: 24rpx;\n  display: block;\n}\n\n.active-tag {\n  background-color: #dba871 !important;\n  color: #ffffff !important;\n}\n\n.active-text {\n  color: #ffffff;\n}\n.star-shrink {\n  transform: scale(0.7);\n  transform-origin: right;\n}\n.sign {\n  font-size: 46rpx !important;\n}\n.list input{\n  margin: 0 10upx;\n  width: 80upx;\n  border: 1upx solid #007AFF;\n}\n.list .list-list{\n  display: flex;\n  margin-top: 10upx;\n}\n.list .Button{\n  background-color: #dca371;\n  width: 45upx;\n  height: 45upx;\n  text-align: center;\n  line-height: 45upx;\n  margin:0 15rpx;\n}\n.list-group{\n  margin-top: 10upx;\n}\n</style>\n","import mod from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product-modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./product-modal.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1640144410415\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}